= Impermium

Ruby wrapper for {Impermium API}[http://impermium.com].

= Usage

In order to use Impermium gem you must get Impermium API key.

== Instantiate and configure a client

Impermium client can be instantiated and configured in several ways. New client can be created with

 client = Impermium.new(:api_key => <your_api_key>)

which is actually short way of 

 client = Impermium::Client.new(:api_key => <your_api_key>)

Constructor accepts hash of options that can be used to configure Impermium client. Valid hash keys are

 - :adapter (sets Faraday adapter)
 - :api_version (sets Impermium API version - default 3.0)
 - :api_key (sets API key)
 - :client_name (sets client name)
 - :client_id (sets client ID)
 - :endpoint (sets URL to Impermium server - default http://api.impermium.com)

Either of these values can be set directly too:

 client = Impermium.new
 client.api_key = <your_api_key>
 client.endpoint = "http://api-test.impermium.com"

Finally, Impermium client can be configured through block with:

 Impermium.configure do |conf|
   conf.api_key = <your_api_key>
   conf.endpoint = "http://api-test.impermium.com"
 end

 client = Impermium.new

== Calling API methods

Each API method accepts mandatory arguments only.

 Impermium.login(95, "10.0.0.1")

Additional arguments can be passed through the hash which is the last argument

 Impermium.login(95, "10.0.0.1", {:session_id=>"123fed460dfac", :challenge_passed=>'VISUAL'})

If request headers have to be set it can be done through block

 Impermium.login(95, "10.0.0.1") do |req|
   req.headers = {:http_user_agent => "Impermium gem 0.0.1"}
 end

